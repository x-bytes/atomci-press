(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{213:function(t,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("ul",[e("li",[t._v("请准备一台 linux 环境，2cx4Gx50G;")]),t._v(" "),t._m(2),t._v(" "),e("li",[t._v("jenkins "),e("code",[t._v("v2.0+")]),t._v(" 请参看 "),e("router-link",{attrs:{to:"./../guide/02.jenkins-requirements.html"}},[t._v("jenkins的配置")])],1),t._v(" "),t._m(3),t._v(" "),t._m(4)]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),e("iframe",{attrs:{src:"//player.bilibili.com/player.html?aid=547966151&cid=407287108&page=1",scrolling:"no",width:"800px",height:"600px",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"}}),t._v(" "),t._m(19),t._v(" "),e("p",[t._v("完成自定义环境配置，run "),e("strong",[t._v("atomci")]),t._v(" in real world. 参考"),e("router-link",{attrs:{to:"/guide/01quickstart.html"}},[t._v("快速开始")]),t._v("，")],1),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/warm-native/docs/tree/master/topic002/deploy",target:"_blank",rel:"noopener noreferrer"}},[t._v("service account 验证信息说明"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.bilibili.com/video/BV1A5411V7zm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何配置 jenkins 与 k8s 集成，bilibili 视频链接"),e("OutboundLink")],1)])])]),t._v(" "),t._m(22),t._v(" "),t._m(23)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"docker-compose-部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-部署"}},[this._v("#")]),this._v(" docker-compose 部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"前置条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[this._v("#")]),this._v(" 前置条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("docker "),s("code",[this._v("v18.06+")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("harbor "),s("code",[this._v("v1.6.0+")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("kubernetes "),s("code",[this._v("v1.12.0+")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"安装过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装过程"}},[this._v("#")]),this._v(" 安装过程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-下载安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装包"}},[this._v("#")]),this._v(" 1.下载安装包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("wget")]),this._v(" https://github.com/go-atomci/atomci/releases/download/v1.29.2/atomci-latest-docker-compose.tgz\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('# 安装docker-compose\n$ sudo curl -L "https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n$ sudo chmod +x /usr/local/bin/docker-compose\n')])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-安装包目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装包目录结构"}},[this._v("#")]),this._v(" 2. 安装包目录结构")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("---- atomci-latest  #\n |__ conf           # 后端的示例配置文件\n |__ nginx          # 前端nginx示例配置文件\n |__ mysql          # mysql\n |__ init.sh        # 部署初始化脚本\n |__ docker-compose.yml  # docker-compose启动文件\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-应用启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-应用启动"}},[this._v("#")]),this._v(" 3. 应用启动")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("## 启动所有容器\n$ docker-compose up -d\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-应用初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-应用初始化"}},[this._v("#")]),this._v(" 4. 应用初始化")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("$ bash init.sh\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-确认服务状态-应用访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-确认服务状态-应用访问"}},[this._v("#")]),this._v(" 5. 确认服务状态/应用访问")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("$ docker-compose ps\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("默认会侦听"),e("code",[t._v("8090")]),t._v("端口，可以通过 "),e("code",[t._v("http://[deploy-ip-addr]:8090")]),t._v(" 来开启 "),e("strong",[t._v("atomci")]),t._v(" 的旅程(:")]),t._v(" "),e("p",[t._v("默认用户名及密码: "),e("code",[t._v("admin")]),t._v(" / "),e("code",[t._v("123456")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"部署视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署视频"}},[this._v("#")]),this._v(" 部署视频")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"下一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[this._v("#")]),this._v(" 下一步")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"附录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[this._v("#")]),this._v(" 附录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"jenkins-agent-容器化配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-agent-容器化配置"}},[this._v("#")]),this._v(" Jenkins agent 容器化配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"卸载应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载应用"}},[this._v("#")]),this._v(" 卸载应用")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 停止服务\n$ docker-compose stop\n\n# 删除服务容器\n$ docker-compose rm -f\n\n# 清除数据目录\n$ rm -f mysql/data\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])])}],!1,null,null,null);s.default=r.exports}}]);